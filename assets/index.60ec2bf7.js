import{d as s,m as e,aa as a,o as l,j as u,a as t,b as r,w as c,e as o,F as i,r as n,u as d,c as v,t as p,f,h as _,i as m,k as g}from"./index-66b61406.js";import{c as h}from"./home.1ce32209.js";import{_ as x}from"./_plugin-vue_export-helper.1b428a4d.js";const k=x(s({__name:"XtxGuess",setup(s,{expose:x}){let k=e([]),j=e(!0);const w=async(s=1,e=10)=>{const a=await h(s,e);k.value.push(...a.result.items),j.value=10*s<a.result.counts};return a((async()=>{w()})),x({getGuessLike:w,finished:j,rept:()=>{k.value=[]}}),(s,e)=>{const a=f,h=_,x=m,w=g;return l(),u(i,null,[t(" 猜你喜欢 "),r(h,{class:"caption"},{default:c((()=>[r(a,{class:"text"},{default:c((()=>[o("猜你喜欢")])),_:1})])),_:1}),r(h,{class:"guess"},{default:c((()=>[(l(!0),u(i,null,n(d(k),(s=>(l(),v(w,{class:"guess-item",key:s.id,url:`/pages/goods/goods?id=${s.id}`},{default:c((()=>[r(x,{class:"image",mode:"aspectFill",src:s.picture},null,8,["src"]),r(h,{class:"name"},{default:c((()=>[o(p(s.name)+" "+p(s.desc),1)])),_:2},1024),r(h,{class:"price"},{default:c((()=>[r(a,{class:"small"},{default:c((()=>[o("¥")])),_:1}),r(a,null,{default:c((()=>[o(p(s.price),1)])),_:2},1024)])),_:2},1024)])),_:2},1032,["url"])))),128))])),_:1}),r(h,{class:"loading-text"},{default:c((()=>[o(p(d(j)?"正在加载...":"没有更多了~"),1)])),_:1})],64)}}}),[["__scopeId","data-v-c4c910b3"]]),j=()=>{const s=e(),a=e(1),l=e(!1);return{guess:s,isTriggered:l,onrefresherrefresh:async()=>{var e,u;a.value=1,null==(e=s.value)||e.rept(),l.value=!0,await(null==(u=s.value)?void 0:u.getGuessLike(a.value,10)),l.value=!1},onScrolltolower:()=>{var e,l;(null==(e=s.value)?void 0:e.finished)&&(a.value=a.value+1,null==(l=s.value)||l.getGuessLike(a.value,10))}}};export{k as _,j as u};
